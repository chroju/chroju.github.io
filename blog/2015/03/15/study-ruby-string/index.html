<!DOCTYPE html>
<html lang="ja">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="the world as code">
<meta name="description" content="パーフェクトRuby p.148から学習。文字列ことStringクラス。 まずは基本操作系。 s = &quot;hoge&quot; s.empty? # =&gt; false s.length # =&gt; 4 s.size # =&gt; 4 s.bitesize # =&gt; 8 s.include?(&quot;og&quot;) =&gt; true 演算子で">

<meta property="og:title" content="Ruby基礎復習(2) Stringクラス" />
<meta property="og:description" content="パーフェクトRuby p.148から学習。文字列ことStringクラス。 まずは基本操作系。 s = &quot;hoge&quot; s.empty? # =&gt; false s.length # =&gt; 4 s.size # =&gt; 4 s.bitesize # =&gt; 8 s.include?(&quot;og&quot;) =&gt; true 演算子で" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chroju.github.io/blog/2015/03/15/study-ruby-string/" />



<meta property="article:published_time" content="2015-03-15T00:00:00&#43;09:00"/>

<meta property="article:modified_time" content="2015-03-15T00:00:00&#43;09:00"/>












<title>


     Ruby基礎復習(2) Stringクラス &middot; the world as code 

</title>
<link rel="canonical" href="https://chroju.github.io/blog/2015/03/15/study-ruby-string/">







<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/darcula.min.css">




<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    
    <link rel="stylesheet" href="https://chroju.github.io/css/reset.css?t=2018-06-11%2022%3a33%3a10.893910718%20%2b0900%20JST">
    <link rel="stylesheet" href="https://chroju.github.io/css/pygments.css?t=2018-06-11%2022%3a33%3a10.893910718%20%2b0900%20JST">
    <link rel="stylesheet" href="https://chroju.github.io/css/main.css?t=2018-06-11%2022%3a33%3a10.893910718%20%2b0900%20JST">
    
        <link rel="stylesheet" href="https://chroju.github.io/css/override.css?t=2018-06-11%2022%3a33%3a10.893910718%20%2b0900%20JST">
    




<link rel="shortcut icon"

    href="https://chroju.github.io/img/favicon.ico"

>








</head>


<body lang="ja">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                    
                
                
                <a href="https://chroju.github.io/"><img class="avatar" src="https://chroju.github.io/img/avatar.png" srcset="https://chroju.github.io/img/avatar.png 1x"></a>
            
            <a href="https://chroju.github.io/"><div class="name">the world as code</div></a>
            
            <nav>
                <ul>
                    
                        <li class="nav-blog"><a href="https://chroju.github.io/blog/"><span>Archive</span></a></li>
                    
                        <li class="nav-about"><a href="https://chroju.github.io/about/"><span>About</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">

        
            <a href="//github.com/chroju" target="_blank" rel="noopener"><img class="icon" src="https://chroju.github.io/img/github.svg" alt="github" /></a>
        

        
            <a href="//twitter.com/chroju" target="_blank" rel="noopener"><img class="icon" src="https://chroju.github.io/img/twitter.svg" alt="twitter" /></a>
        

        

        

        

        

        
            
        

        

        
            <a href="mailto:chor.chroju@gmail.com"><img class="icon" src="https://chroju.github.io/img/email.svg" alt="email" /></a>
        

        
            <a href="https://chroju.github.io/atom.xml"><img class="icon" src="https://chroju.github.io/img/rss.svg" alt="rss" /></a>
        
        
        </div>
    </div>
</section>


<section class="main post non-narrow zero-top-spacing">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    Ruby基礎復習(2) Stringクラス

</div>

                    <div class="initials"><a href="https://chroju.github.io"></a></div>
                </div>
                <div class="meta">
                    
                    <div class="date" title='Sun Mar 15 2015 00:00:00 JST'>Mar 15, 2015</div>
                    
                    
		    <div class="reading-time"><div class="middot"></div>2 minutes read</div>
                    
                </div>
            </div>
            <div class="markdown">
                <p>パーフェクトRuby p.148から学習。文字列ことStringクラス。</p>

<p>まずは基本操作系。</p>

<pre><code class="language-ruby">s = &quot;hoge&quot;
s.empty? # =&gt; false
s.length # =&gt; 4
s.size # =&gt; 4
s.bitesize # =&gt; 8
s.include?(&quot;og&quot;) =&gt; true
</code></pre>

<p>演算子での操作。</p>

<pre><code class="language-ruby">'hoge' + 'fuga' # =&gt; 'hogefuga'
'hoge' * 3 =&gt; 'hogehogehoge'
</code></pre>

<p>破壊的な文字列の追加。</p>

<pre><code class="language-ruby">s = &quot;hoge&quot;
s &lt;&lt; &quot;fuga&quot; # =&gt; &quot;hogefuga&quot;
s.concat(&quot;piyo&quot;) # =&gt; &quot;hogefugapiyo&quot;
</code></pre>

<p>切り出し。</p>

<pre><code class="language-ruby">s = &quot;hogefuga&quot;
s.slice(3) # =&gt; &quot;e&quot;
s.slice(2,5) # =&gt; &quot;gefu&quot;
s.slice(-4,2) # =&gt; &quot;fu&quot;
s.slice(2..5) # =&gt; &quot;gefu&quot;
</code></pre>

<p><code>#slice</code>を使わず、以下記法でも同等。</p>

<pre><code class="language-ruby">s = &quot;hogefuga&quot;
s[3] # =&gt; &quot;e&quot;
s[2,5] # =&gt; &quot;gefu&quot;
s[-4,2] # =&gt; &quot;fu&quot;
s[2..5] # =&gt; &quot;gefu&quot;
s[//]
</code></pre>

<p>文字列の整形に関するメソッドいろいろ。特に<code>#chop</code>と<code>#chomp</code>とか紛らわしいとよく言われる。英単語の意味するところとしてchop＝刻むってことで1文字削除されるのはわかるが、そこにmが足されると改行コードの削除になるのはなぜなんだろう。。。あと<code>#squeeze</code>なんかは使う場面がいまいち想像できない。</p>

<p>なお、ここにあるメソッドはすべて非破壊的。末尾に<code>!</code>を付けることで破壊的操作になる。</p>

<pre><code class="language-ruby">s = &quot; aaa &quot;
s.strip # =&gt; &quot;aaa&quot;
s.rstrip # =&gt; &quot; aaa&quot;
s.lstrip # =&gt; &quot;aaa &quot;

s = &quot;aaa\n\n&quot;
s.chomp # =&gt; &quot;aaa\n&quot;
s = &quot;abcd&quot;
s.chop # =&gt; &quot;abc&quot;

s = &quot;aaaabbbbcccc&quot;
s.squeeze # =&gt; &quot;abc&quot;
s.squeeze('ab') # =&gt; &quot;abccc&quot;

&quot;ABC&quot;.downcase # =&gt; &quot;abc&quot;
&quot;def&quot;.upcase # =&gt; &quot;DEF&quot;
&quot;Abc&quot;.swapcase # =&gt; &quot;aBC&quot;
&quot;tITle&quot;.capitalize # =&gt; &quot;Title&quot;

&quot;abc&quot;.reverse # =&gt; &quot;cba&quot;
</code></pre>

<p>置換。第一引数で検索を行い、ヒットした箇所を第二引数で置換するか、あるいはブロックに引き渡して操作、という建て付けのよう。<code>#sub</code>だと最初に一致したもののみ、<code>#gsub</code>だとヒットしたすべての箇所が置換される。これも破壊的、非破壊的の2種類あり。</p>

<pre><code class="language-ruby">&quot;aaaa&quot;.sub(&quot;a&quot;,&quot;b&quot;) # =&gt; &quot;baaa&quot;
&quot;24-1-365&quot;.gsub(/[0-9]+/) {|str| str.to_i.succ} # =&gt; 25-2-366
</code></pre>

<p>配列への変換。<code>#split</code>で第一引数に指定した文字をセパレータとした分割が可能。第二引数には分割最大数が指定できる。また1文字ずつ操作したい場合は<code>#each_char</code>が使える。ブロックへの引き渡しも可能。似たところで<code>#each_byte</code>もある。</p>

<pre><code class="language-ruby">str = &quot;Alice, Bob, Charlie&quot;

str.split(&quot;,&quot;) # =&gt; [&quot;Alice&quot;, &quot;Bob&quot;, &quot;Charlie&quot;]
&quot;Alice&quot;.each_char.to_a # =&gt; [&quot;A&quot;,&quot;l&quot;,&quot;i&quot;,&quot;c&quot;,&quot;e&quot;]
</code></pre>

                <br>
		<p class="back-to-posts"><a href="https://chroju.github.io/blog/">Back to posts</a></p>
            </div>
            <br>
            <div class="disqus">
                
            </div>
            
        </div>
    </div>
</section>





  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  

  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
  </script>





</body>
</html>

