<!DOCTYPE html>

<html lang="ja">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no" />

    <title>Terraform meetup tokyo#3 に参加した | the world as code</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="https://chroju.github.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://chroju.github.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://chroju.github.io/favicon-16x16.png">
    <link rel="manifest" href="https://chroju.github.io/manifest.json">
    <link rel="mask-icon" href="https://chroju.github.io/safari-pinned-tab.svg" color="#FF3DB4">
    <meta name="theme-color" content="#ffffff">

    
    
    
    <link rel="stylesheet" href="https://chroju.github.io/css/main.min.2545a1910010e26a9905276045afab868f812580a1e7482423da6c0c8c214d18.css" />

    
    
    
    
    
    <link rel="stylesheet" href="https://chroju.github.io/css/override.css?t=2020-12-22%2009%3a52%3a15.481239343%20%2b0000%20UTC%20m%3d%2b0.222587701">
    

    
    

    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-6765151-2', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>

    <body>
        
<nav>
  <header>
    <div class="site-title">
        <a href="https://chroju.github.io/">the world as code</a>
    </div>  
</header>
  <div class="nav-menu">
  
    <a class="color-link nav-link" href="https://chroju.github.io/archives">Archive</a>
  
    <a class="color-link nav-link" href="https://chroju.github.io/about">About</a>
  
  <a class="color-link nav-link" href="https://chroju.github.io/atom.xml" target="_blank" rel="noopener" type="application/rss+xml">RSS</a>
</div>
<footer class="footer">
	<div class="social-icons">
        

    

    
    <a class="social-icon" href="chroju" target="_blank" rel="noopener" title="Twitter">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M8.991284,24.971612 C19.180436,24.971612 24.752372,16.530224 24.752372,9.210524 C24.752372,8.970656 24.747512,8.731868 24.736496,8.494376 C25.818008,7.712564 26.758256,6.737 27.5,5.62622 C26.507372,6.067076 25.439252,6.364292 24.318752,6.498212 C25.462472,5.812628 26.340512,4.727444 26.754584,3.434036 C25.684088,4.068536 24.499004,4.53002 23.23724,4.778528 C22.226468,3.701876 20.786828,3.028388 19.193828,3.028388 C16.134404,3.028388 13.653536,5.509256 13.653536,8.567492 C13.653536,9.0023 13.702244,9.424904 13.797176,9.830552 C9.19346,9.599108 5.11106,7.39472 2.3792,4.04294 C1.903028,4.861364 1.629032,5.812628 1.629032,6.827072 C1.629032,8.74904 2.606972,10.445612 4.094024,11.438132 C3.185528,11.41016 2.331788,11.160464 1.585184,10.745096 C1.583888,10.768208 1.583888,10.791428 1.583888,10.815728 C1.583888,13.49888 3.493652,15.738584 6.028088,16.246508 C5.562932,16.373084 5.07326,16.44134 4.56782,16.44134 C4.210988,16.44134 3.863876,16.406024 3.526484,16.34144 C4.231724,18.542264 6.276596,20.143796 8.701412,20.18894 C6.805148,21.674696 4.416836,22.56008 1.821488,22.56008 C1.374476,22.56008 0.93362,22.534592 0.5,22.4834 C2.951708,24.054476 5.862524,24.971612 8.991284,24.971612"></path>
        </svg>
    </a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="chroju" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    

    

    

    

</div>




	<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
	<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>

	<script src="https://chroju.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
</nav>
        <div id="content" class="content-container">
        
<h1 class="post-title">Terraform meetup tokyo#3 に参加した</h1>
    
    <time>December 4, 2019</time>
    
    <div>
        <p>
        <p><a href="https://terraform-jp.connpass.com/event/153286/">Terraform meetup tokyo#3</a> に参加してきました。今回「Blog枠」という形で参加させてもらったので、そのノルマも兼ねて書いています。</p>
<h2 id="terrraforrm-meetup-tokyo-">Terrraforrm meetup tokyo について</h2>
<p>Terraform ユーザーグループによるイベントは月1回開催されており、この meetup と source code reading が交互に行われます。 meetup は今回が3回目の開催で、自分は前回に続き2回目の参加でした。</p>
<p>LT や発表枠ももちろんあるのですが、この meetup で特徴的なのは World Cafe だと思います。 World Cafe の定義について、詳しくは <a href="http://world-cafe.net/about/">ワールド・カフェとは？ | ワールド・カフェ・ネット</a> に譲りますが、 meetup ではランダムな最大6人グループで自由に議論する時間が30分×2回設けられています。 Terraform はまだ枯れきったソフトウェアとは言い難く、ベストプラクティスの模索が常に行われているような状況なので、ユーザー間でユースケースを共有し合えるこのような試みは、非常に有意義に感じています。</p>
<h2 id="heading">イベントレポート</h2>
<p>以下、簡単に今回のレポートです。</p>
<h3 id="-terraform-enterprise--terrform-v010--v012---sudoyu">スポンサー枠: Terraform Enterprise を導入して Terrform v0.10 から v0.12 に上げた話 / sudoyu</h3>
<iframe src="//www.slideshare.net/slideshow/embed_code/key/93ZBaBpaIVY4Pg" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/RecruitLifestyle/journey-to-terraform-enterprise-with-upgrading-v010-to-v012" title="Journey to Terraform Enterprise with upgrading v0.10 to v0.12" target="_blank">Journey to Terraform Enterprise with upgrading v0.10 to v0.12</a> </strong> from <strong><a href="https://www.slideshare.net/RecruitLifestyle" target="_blank">Recruit Lifestyle Co., Ltd.</a></strong> </div>
<p>Terraform Enterprise の導入レポートでした。現在だと Terraform Cloud も同様の機能を持っていると認識していますが、社内のコード管理に IP アクセス制限をした GitHub Enterprise を用いており、その制約上 Cloud は導入が難しかったとのこと。気になるのは金銭面ですが、「 Terraform スペシャリストを雇うより安いと判断した」という言葉が印象的でした。</p>
<h3 id="lt1-terraform-vs-cdk--oracle">LT1: terraform vs cdk / oracle</h3>
<div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%; padding-top: 30px;"><iframe src="https://docs.google.com/presentation/d/1jXCZ-MnT9-x7etUGdeN62GuK2GmF1XAT99s5PlYiiIY/preview?usp=embed_googleplus" style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" allowfullscreen scrolling="no" allow="encrypted-media"></iframe></div>
<p>最近新たに AWS コード化界隈に参戦した cdk と Terraform の比較の話です。 Terraform で言う hoge が cdk では fuga に対応する、というようなことがまとめられているので、概念理解の助けになりました。まだ cdk は触ったことがないので、触ってみたいところ。</p>
<h3 id="lt2-github-actions--terraform--planapply---dehio3">LT2: GitHub Actions で Terraform を plan/apply してみた / dehio3</h3>
<div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.1972%;"><iframe src="https://speakerdeck.com/player/2518a2eee62840c992a05b474dd217b7" style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" allowfullscreen scrolling="no" allow="encrypted-media"></iframe></div>
<p>GitHub Actions の workflow はすでに公式で <a href="https://github.com/hashicorp/terraform-github-actions">hashicorp/terraform-github-actions: Terraform GitHub Actions</a> が公開されています。プルリクをトリガーして plan した結果をコメントに貼ってくれる、王道な workflow を簡単に導入できちゃうのがいいですね。</p>
<h3 id="lt3-deep-dive-hcl--keke">LT3: Deep Dive HCL / Keke</h3>
<div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.1972%;"><iframe src="https://speakerdeck.com/player/d77bdadfea614f7583e92530cd202297" style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" allowfullscreen scrolling="no" allow="encrypted-media"></iframe></div>
<p>Terraform の tf ファイルを記述する際には HCL と呼ばれる言語（書式？）が使われますが、その構造や仕様について説明された LT でした。私も HCL のパースなどに使える <a href="https://github.com/hashicorp/hcl">hashicorp/hcl</a> は少し読んだことがありますが、 <a href="https://buildmedia.readthedocs.org/media/pdf/hcl/guide/hcl.pdf">仕様のホワイトペーパー</a> が公開されていることは知りませんでした。後で読んでおきたい。</p>
<h3 id="lt4-uml--toshihiko-nozaki">LT4: インフラ実装をUMLで設計する / Toshihiko Nozaki</h3>
<div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.1972%;"><iframe src="https://speakerdeck.com/player/b167fd6b61534447b4e18c4b4473f5c6" style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" allowfullscreen scrolling="no" allow="encrypted-media"></iframe></div>
<p>Infrastructure as Code に関しても、きちんと UML を書いてコンポーネント分割して書こうというお話でした。このあたりの話はすごく興味があります。Kief Morris『Infrastructure as Code』でも、 Robert C. Martin『Clean Code』を挙げた上で、「インフラストラクチャのコーダーにも、ソフトウェアデベロッパと同じくらい重要なテーマだ」と書かれています（p.184）し、メンテしやすいコードを書くことは追求していきたい。</p>
<h3 id="lt5-root-moduletfstateworkspace--k-bigwheel">LT5: 各環境とRoot Module(tfstate)・workspaceの対応付けパターンを比較してみた / k_bigwheel</h3>
<div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%; padding-top: 30px;"><iframe src="https://docs.google.com/presentation/d/1N1GBk72OBgBtz5cYRmR22OqD3N8NIlZIgkGCSdRuPlg/preview?usp=embed_googleplus" style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" allowfullscreen scrolling="no" allow="encrypted-media"></iframe></div>
<p>開発、検証、本番環境で tfstate を分けることが多いと思いますが、その際に module や workspace をどう使って分割するべきか、というお話。各パターンのメリデメを細かくまとめられた資料が印象的でした。この手の話は空中戦になりやすかったりもするので、きちんと「書いて考える」ことが重要だなーと気付かされました。</p>
<h3 id="world-cafe">World Cafe</h3>
<p>World Cafe では Terraform をこれから社内へ導入していきたい方、 GCP で使っている方や AWS で使っている方など、様々なバックグラウンドを持った方とお話ができました。出た話題を簡単にピックアップしておきます。</p>
<ul>
<li>CloudFormation や Ansible と比較した Terraform の訴求ポイントはどこか？</li>
<li>provider のバージョンアップへの追随はどうしているか？</li>
<li>社内で認知度が低い場合、どう広めていったらよいか？</li>
<li>Terraform Cloud をすでに利用しているか？</li>
<li>Terraform レポジトリのディレクトリ構成はどんな感じ？</li>
</ul>
<h3 id="additional-lt--terraform--chaspy">Additional LT: 突撃！隣の Terraform / chaspy</h3>
<div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 74.9296%;"><iframe src="https://speakerdeck.com/player/3ff8a8e594124b9188ff028b59531bfa" style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" allowfullscreen scrolling="no" allow="encrypted-media"></iframe></div>
<p>ここまででメインは終了ということで私は帰ってしまったのですが、その後の延長線で追加 LT があったらしいです。内容は「突撃！隣の Terraform」ということで、 Kyash とメルカリで実際どのように Terraform のディレクトリ構成を切っているか見に行った話だったようです。これは聞いてみたかった。。。</p>
<h2 id="impression">Impression</h2>
<p>前回も今回もそうでしたが、 Terraform のファイルやディレクトリをどう構成していくかという点で悩んでいる人が結構多いという印象を受けました。ていうか私自身がそうです。そういう状況を踏まえても、やっぱり World Cafe で直接情報交換ができるというのはすごく嬉しい機会だなと改めて感じました。次回以降いらっしゃる方は、何か話したいネタ、聞きたいネタを用意してくると捗ると思います。</p>
<p>最後になりましたが、運営いただいた主催者の方々、フード提供いただいた HashiCorp さん、ありがとうございました。</p>

        </p>
    </div>
    

    <div class="page-footer">
        
    </div>


        
        </div>
        <footer class="footer-mobile">
	<div class="social-icons">
        

    

    
    <a class="social-icon" href="chroju" target="_blank" rel="noopener" title="Twitter">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M8.991284,24.971612 C19.180436,24.971612 24.752372,16.530224 24.752372,9.210524 C24.752372,8.970656 24.747512,8.731868 24.736496,8.494376 C25.818008,7.712564 26.758256,6.737 27.5,5.62622 C26.507372,6.067076 25.439252,6.364292 24.318752,6.498212 C25.462472,5.812628 26.340512,4.727444 26.754584,3.434036 C25.684088,4.068536 24.499004,4.53002 23.23724,4.778528 C22.226468,3.701876 20.786828,3.028388 19.193828,3.028388 C16.134404,3.028388 13.653536,5.509256 13.653536,8.567492 C13.653536,9.0023 13.702244,9.424904 13.797176,9.830552 C9.19346,9.599108 5.11106,7.39472 2.3792,4.04294 C1.903028,4.861364 1.629032,5.812628 1.629032,6.827072 C1.629032,8.74904 2.606972,10.445612 4.094024,11.438132 C3.185528,11.41016 2.331788,11.160464 1.585184,10.745096 C1.583888,10.768208 1.583888,10.791428 1.583888,10.815728 C1.583888,13.49888 3.493652,15.738584 6.028088,16.246508 C5.562932,16.373084 5.07326,16.44134 4.56782,16.44134 C4.210988,16.44134 3.863876,16.406024 3.526484,16.34144 C4.231724,18.542264 6.276596,20.143796 8.701412,20.18894 C6.805148,21.674696 4.416836,22.56008 1.821488,22.56008 C1.374476,22.56008 0.93362,22.534592 0.5,22.4834 C2.951708,24.054476 5.862524,24.971612 8.991284,24.971612"></path>
        </svg>
    </a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="chroju" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    

    

    

    

</div>




	<div class="footer-mobile-links">
		<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
		<span class="divider-bar">|</span>
		<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>
	</div>

	<script src="https://chroju.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
    </body>
</html>