<!DOCTYPE html>
<html lang="ja">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="the world as code">
<meta name="description" content="環境構築エントリーその2。まっさらなOSにRubyを入れていきます。 まずはいろいろパッケージのインストール。ぶっちゃけ参考書通りにやってるだ">

<meta property="og:title" content="Rails環境構築（2）Rubyのインストール &#43; α" />
<meta property="og:description" content="環境構築エントリーその2。まっさらなOSにRubyを入れていきます。 まずはいろいろパッケージのインストール。ぶっちゃけ参考書通りにやってるだ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chroju.github.io/blog/2014/01/23/2014-01-23-post/" />



<meta property="article:published_time" content="2014-01-23T00:00:00&#43;09:00"/>

<meta property="article:modified_time" content="2014-01-23T00:00:00&#43;09:00"/>












<title>


     Rails環境構築（2）Rubyのインストール &#43; α &middot; the world as code 

</title>
<link rel="canonical" href="https://chroju.github.io/blog/2014/01/23/2014-01-23-post/">







<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/darcula.min.css">




<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    
    <link rel="stylesheet" href="https://chroju.github.io/css/reset.css?t=2018-07-01%2022%3a50%3a53.86777261%20%2b0900%20JST">
    <link rel="stylesheet" href="https://chroju.github.io/css/pygments.css?t=2018-07-01%2022%3a50%3a53.86777261%20%2b0900%20JST">
    <link rel="stylesheet" href="https://chroju.github.io/css/main.css?t=2018-07-01%2022%3a50%3a53.86777261%20%2b0900%20JST">
    
        <link rel="stylesheet" href="https://chroju.github.io/css/override.css?t=2018-07-01%2022%3a50%3a53.86777261%20%2b0900%20JST">
    




<link rel="shortcut icon"

    href="https://chroju.github.io/img/favicon.ico"

>








</head>


<body lang="ja">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                    
                
                
                <a href="https://chroju.github.io/"><img class="avatar" src="https://chroju.github.io/img/avatar.png" srcset="https://chroju.github.io/img/avatar.png 1x"></a>
            
            <a href="https://chroju.github.io/"><div class="name">the world as code</div></a>
            
            <nav>
                <ul>
                    
                        <li class="nav-blog"><a href="https://chroju.github.io/blog/"><span>Archive</span></a></li>
                    
                        <li class="nav-about"><a href="https://chroju.github.io/about/"><span>About</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">

        
            <a href="//github.com/chroju" target="_blank" rel="noopener"><img class="icon" src="https://chroju.github.io/img/github.svg" alt="github" /></a>
        

        
            <a href="//twitter.com/chroju" target="_blank" rel="noopener"><img class="icon" src="https://chroju.github.io/img/twitter.svg" alt="twitter" /></a>
        

        

        

        

        

        
            
        

        

        
            <a href="mailto:chor.chroju@gmail.com"><img class="icon" src="https://chroju.github.io/img/email.svg" alt="email" /></a>
        

        
            <a href="https://chroju.github.io/atom.xml"><img class="icon" src="https://chroju.github.io/img/rss.svg" alt="rss" /></a>
        
        
        </div>
    </div>
</section>


<section class="main post non-narrow zero-top-spacing">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    Rails環境構築（2）Rubyのインストール &#43; α

</div>

                    <div class="initials"><a href="https://chroju.github.io"></a></div>
                </div>
                <div class="meta">
                    
                    <div class="date" title='Thu Jan 23 2014 00:00:00 JST'>Jan 23, 2014</div>
                    
                    
		    <div class="reading-time"><div class="middot"></div>4 minutes read</div>
                    
                </div>
            </div>
            <div class="markdown">
                

<p>環境構築エントリーその2。まっさらなOSにRubyを入れていきます。</p>

<p>まずはいろいろパッケージのインストール。ぶっちゃけ参考書通りにやってるだけなので、どこまで必要なのかはよくわかってない。wgetとgitが必須であるのは言わずもがなだし、openssl-devel、make、postgresqlなんかもまぁ必要だろう。gccとかは要る……のか？</p>

<pre><code>$ sudo yum -y install gcc gcc-c++ make autoconf openssl-devel readline-devel libyaml-devel postgresql9.1-devel wget git
</code></pre>

<p>続いて意気揚々とRubyを入れたいとこだが、その前にrbenvを入れる。以前にエントリーで書いたこともあったけど、rbenvを使ってRubyをインストールすると、複数のバージョンのRubyを切り替えて使えるようになるので大変便利。インストールもwgetでダウンロードしてビルドしてなんてやり方をせず、rbenv installコマンドで簡単にできるようになる。</p>

<pre><code>$ git clone git://github.com/sstephenson/rbenv.git ~/.rbenv
$ git clone git://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
</code></pre>

<p>rbenv自体のインストールもgithubからのクローンで済むのでスマートですね。ついでにもう1個git cloneしているのはruby-buildって奴で、これがないとrbenv install（rbenv使ってRubyをインストールするためのコマンド）が使えないらしい。で、入れたらPATHを通します。</p>

<pre><code>$ echo 'export PATH=&quot;$HOME/.rbenv/bin:$PATH&quot;' &gt;&gt; ~/.bash_profile
$ echo 'eval &quot;$(rbenv init -)&quot;' &gt;&gt; ~/.bash_profile
</code></pre>

<p>PATHを通したらbash_profileを再読み込みして、それからtype rbenvコマンドを打ってインストールの正常完了を確認する。ちなみに自分は最初、bash_profileの再読み込み忘れて慌てました。</p>

<pre><code>$ source ~/.bash_profile
$ type rbenv # rbenv is a functionと表示されればOK
</code></pre>

<p>ここまでの手順はGitHubでrbenvのREADMEにも書かれてるから一読を推奨。</p>

<p>rbenvが入ったので、早速Rubyをインストール。</p>

<pre><code>$ rbenv install --list #インストール可能なバージョンが一覧表示される
$ rbenv install 1.9.3-p484 #入れるバージョンは任意で
</code></pre>

<p>もちろん複数バージョン入れてもOK。Rubyのインストールが完了したら、どのバージョンを使うか確定させる。使うコマンドはrbenv global。安易に想像できる話ではあるが、rbenv localもある。前者が文字通りシステム全体、どのシェルでも使われるバージョンであるのに対し、後者はローカル環境、すなわち今後入れるRailsのアプリケーションディレクトリとか、そういう環境でのRubyバージョンを指定するもの。今はローカル環境がないので、rbenv globalだけ指定すればいい。</p>

<pre><code>$ rbenv global 1.9.3-p484
$ ruby -v #確認
</code></pre>

<p>以上でRubyは入ったわけだけど、ついでに今後使うのでBundlerも入れておく。BundlerはRubyGemsを管理するためのツールであり、RubyGemsとはRubyのパッケージ管理システムのことである。GemはRailsでもめちゃめちゃ使うし、そもそものRailsもGemで入れることになるので、ここでBundlerを入れておく。</p>

<p>ちなみにGem自体はRubyと一緒にすでに入っている。が、バージョンが古い場合があるので更新してあげる必要がある。GemだけでももちろんRailsをインストールしたりはできるんだけど、その後の落とした各Gemの管理がマンドクセーってなるので、Bundlerが必要になる。まぁ詳しくは次回あたりで。</p>

<pre><code>$ gem update --system
$ gem -v #最新のバージョンになったことを確認
</code></pre>

<p>じゃあ喜び勇んでGemを使ってBundler入れましょう！と行きたいところだが、まだやることがある。デフォルトだとGemで何かをインストールしたとき、ずらずらーっとメッセージが出てくるのだが、それを消すためのおまじない。これで体感2倍ぐらいインストールが速くなるらしい。方法は簡単で、~/.gemrcファイルを新規で作成して、以下の内容を書き入れる。</p>

<pre><code>gem: --no-ri --no-rdoc
</code></pre>

<p>書き入れるって簡単にいうけどエディタは何使えばいいんだよ？って人はviあたり使っとけばいいと思う。もっといえば$ sudo yum install vimすればいいと思うんだが、そのあたりの話はまたおいおい。</p>

<p>はい、やっとこれで準備完了。Bundler入れます。</p>

<pre><code>$ rbenv exec gem install bundler
$ bundle -v
</code></pre>

<p>これで作業完了！のはずなんだが、なぜか自分はbundleにPATHが通ってなかったらしく、$ bundle -vできませんでした。なんでだろ？　仕方ないので<a href="http://qiita.com/hyshhryk/items/7e728ad57d963454b142">ココ</a>のやり方に従ってなんとかPATHは通ったんだけど、リンク先が何をやっていたのかはっきり言ってわかっておらず、不安。EXECUTABLE DIRECTORYってなんスか？</p>

<p>まーとりあえずRubyとBundlerは入ったので、次回はRailsのインストールといきますかね。</p>

<h2 id="参考">参考</h2>

<ul>
<li><a href="http://blog.ruedap.com/2011/05/14/ruby-gem-install-no-ri-no-rdoc-gemrc">RubyGemsでgemのインストール時に&ndash;no-ri &ndash;no-rdocをデフォルトにする - アインシュタインの電話番号</a></li>
<li><a href="http://qiita.com/ongaeshi/items/b07beebca21ba7ed8e7f">rbenv &amp; ruby-build の使い方メモ - Qiita [キータ]</a></li>
</ul>

                <br>
		<p class="back-to-posts"><a href="https://chroju.github.io/blog/">Back to posts</a></p>
            </div>
            <br>
            <div class="disqus">
                
            </div>
            
        </div>
    </div>
</section>





  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  

  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
  </script>





</body>
</html>

