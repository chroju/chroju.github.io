<!DOCTYPE html>
<html lang="ja">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="the world as code">
<meta name="description" content="Amazon Echo dotに続いてGoogle Home miniも安売りに釣られて買ったので、せっかくだしVUI (Voice User Interface) の醍醐味であるはずの家電操作もやってみたくなっ">

<meta property="og:title" content="Nature Remo API で遊んだ" />
<meta property="og:description" content="Amazon Echo dotに続いてGoogle Home miniも安売りに釣られて買ったので、せっかくだしVUI (Voice User Interface) の醍醐味であるはずの家電操作もやってみたくなっ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chroju.github.io/blog/2018/06/11/play_with_nature_remo/" />
<meta property="article:published_time" content="2018-06-11T22:08:35+09:00" />
<meta property="article:modified_time" content="2018-06-11T22:08:35+09:00" />


<title>


     Nature Remo API で遊んだ &middot; the world as code 

</title>
<link rel="canonical" href="https://chroju.github.io/blog/2018/06/11/play_with_nature_remo/">










<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    
    <link rel="stylesheet" href="https://chroju.github.io/css/reset.css?t=2019-12-18%2017%3a18%3a23.000341118%20%2b0900%20JST%20m%3d%2b0.209786588">
    <link rel="stylesheet" href="https://chroju.github.io/css/pygments.css?t=2019-12-18%2017%3a18%3a23.000341118%20%2b0900%20JST%20m%3d%2b0.209786588">
    <link rel="stylesheet" href="https://chroju.github.io/css/main.css?t=2019-12-18%2017%3a18%3a23.000341118%20%2b0900%20JST%20m%3d%2b0.209786588">
    
        <link rel="stylesheet" href="https://chroju.github.io/css/override.css?t=2019-12-18%2017%3a18%3a23.000341118%20%2b0900%20JST%20m%3d%2b0.209786588">
    




<link rel="shortcut icon"

    href="https://chroju.github.io/img/favicon.ico"

>








</head>


<body lang="ja">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                    
                
                
                <a href="https://chroju.github.io/"><img class="avatar" src="https://chroju.github.io/img/avatar.png" srcset="https://chroju.github.io/img/avatar.png 1x"></a>
            
            <a href="https://chroju.github.io/"><div class="name">the world as code</div></a>
            
            <nav>
                <ul>
                    
                        <li class="nav-blog"><a href="https://chroju.github.io/blog/"><span>Archive</span></a></li>
                    
                        <li class="nav-about"><a href="https://chroju.github.io/about/"><span>About</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">
        
            <a href="//github.com/chroju" target="_blank" rel="noopener"><img class="icon" src="https://chroju.github.io/img/github.svg" alt="github" /></a>
        

        

        
            <a href="//twitter.com/chroju" target="_blank" rel="noopener"><img class="icon" src="https://chroju.github.io/img/twitter.svg" alt="twitter" /></a>
        

	

        

        

        

        

        

        

        

        

        
            <a href="mailto:chor.chroju@gmail.com"><img class="icon" src="https://chroju.github.io/img/email.svg" alt="email" /></a>
        

        

        
        </div>
    </div>
</section>


<section class="main post non-narrow zero-top-spacing">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    Nature Remo API で遊んだ

</div>

                    <div class="initials"><a href="https://chroju.github.io"></a></div>
                </div>
                <div class="meta">
                    
                    <div class="date" title='Mon Jun 11 2018 22:08:35 JST'>Jun 11, 2018</div>
                    
                    
		    <div class="reading-time"><div class="middot"></div>3 minutes read</div>
                    
                </div>
            </div>
            <div class="markdown">
                <p>Amazon Echo dotに続いてGoogle Home miniも安売りに釣られて買ったので、せっかくだしVUI (Voice User Interface) の醍醐味であるはずの家電操作もやってみたくなって <a href="https://nature.global/">Nature Remo</a> を買った。</p>
<!-- raw HTML omitted -->
<p>ちなみにこれ書いてるときに気付いたけど、廉価版の mini ってのも近々出るらしいです。</p>
<h2 id="nature-remo">Nature Remo</h2>
<p>赤外線信号を学習させて使えるスマートリモコン。Wi-Fiに繋げてインターネット経由でAPIを叩く形で操作する。専用のスマートフォンアプリからリモコン感覚でも使えるし、IFTTT Channel化されているので、他サービスと連携させていろいろやったりもできる。あとGoogle HomeやAlexaとも直接連携できるようになっている。</p>
<p>最近この手のIoT家電系製品は他にもあると思うけど、正直あまり比較して買ってはいないので、比較優位があるかはわからない。どうもIRKitの後継のようだったので、実績を鑑みてある程度信頼は置けそうだというのと、TLでちらほら買っているソフトウェアエンジニアを見かけたという、ただそれだけの理由で選んだ。</p>
<h2 id="api">API開放がよい</h2>
<p>なので他製品での状況はわからないが、Nature RemoはAPIが開放されているのがすごくいい。API仕様はSwaggerで公開されているのもポイントが高い。</p>
<p><a href="http://swagger.nature.global/">http://swagger.nature.global/</a></p>
<p>やろうと思えば実質なんでもできる。手始めにslackからスラッシュコマンドでエアコンを点けられるようにしてみた。OFFにするコマンドをまだ実装していないので、滅多矢鱈と打てないんだけどイイ感じ。</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>あとこれは買ってから気付いたのだが、Nature Remoにはセンサーが内蔵されていて、温度・湿度のデータもAPI経由で取得できる。機器の設置場所によっても変動する値だし、全幅の信頼を置いていいデータではないかもしれないが、自室の温度・湿度の状態をモニタリングするのは興味があったので、influxDBへ突っ込んでGrafanaでグラフにしてみている。家に帰って窓を開けて、お茶飲みながらグラフ眺めてると結構如実に気温が下がっていったりして面白い。</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>APIでセンサー情報をGETすると、返ってくるjsonはこんな感じで、Swaggerには書かれていない &ldquo;il&rdquo; という項目があるんだけど、照度センサーも内蔵しているらしいのでおそらくは &ldquo;illuminance&rdquo; かな？と思っている。ちなみに今のところ照度の取得はアプリからもIFTTTからも出来ないので、今後拡張されるのかもしれない。ついでに人感センサーもあるらしいので、そちらの情報も取得できるようになると嬉しい。</p>
<pre><code>[
  {
    &quot;name&quot;: &quot;Remo&quot;,
    &quot;id&quot;: &quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;,
    &quot;created_at&quot;: &quot;2018-04-28T12:12:33Z&quot;,
    &quot;updated_at&quot;: &quot;2018-06-11T13:18:55Z&quot;,
    &quot;firmware_version&quot;: &quot;Remo/1.0.62-gabbf5bd&quot;,
    &quot;temperature_offset&quot;: 0,
    &quot;humidity_offset&quot;: 0,
    &quot;users&quot;: [
      {
        &quot;id&quot;: &quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;,
        &quot;nickname&quot;: &quot;chroju&quot;,
        &quot;superuser&quot;: true
      }
    ],
    &quot;newest_events&quot;: {
      &quot;hu&quot;: {
        &quot;val&quot;: 60,
        &quot;created_at&quot;: &quot;2018-06-11T12:43:29Z&quot;
      },
      &quot;il&quot;: {
        &quot;val&quot;: 13.8,
        &quot;created_at&quot;: &quot;2018-06-11T13:19:09Z&quot;
      },
      &quot;te&quot;: {
        &quot;val&quot;: 25.39,
        &quot;created_at&quot;: &quot;2018-06-11T07:41:56Z&quot;
      }
    }
  }
]
</code></pre><p>やろうと思えばMackerelで気温を監視して、一定の値になったらWebhookからエアコン起動みたいなこともできると思うけど、大惨事になりそうな予感（閾値近辺で値が行ったり来たりしてON/OFFしまくるとか）があってやってはいない。まぁ自室だから別に大惨事でもいいか。やったら面白そう。</p>
<p>ちなみにAPIを叩くのはGoでやりたかったので、ライブラリ作ろうかなと思ったら既にあったのでありがたく使わせていただいている。何か気付いたことがあればIssueなりPRなり送れたら送りたい。</p>
<p><a href="https://github.com/papix/go-nature-remo">papix/go-nature-remo: API Client for Nature Remo (Golang)</a></p>
<p>とにかく「家電にAPIが生える」という感覚は想像以上に楽しかったので、いろいろ便利にしていきたいです。こうなると逆に、遠隔操作にBluetoothを使うPS4が、本来赤外線操作より便利だったはずなのに、不便に思えてくるのが面白い。</p>

                <br>
                
                <p class="back-to-posts"><a href="https://chroju.github.io/blog">Back to posts</a></p>
            </div>
            <br>
            <div class="disqus">
                
            </div>
            
        </div>
    </div>
</section>









</body>
</html>

