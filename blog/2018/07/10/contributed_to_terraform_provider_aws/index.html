<!DOCTYPE html>

<html lang="ja">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no" />

    <title>buildersconを契機にOSS活動始めてterraform-provider-awsにcontributeできた | the world as code</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="https://chroju.github.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://chroju.github.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://chroju.github.io/favicon-16x16.png">
    <link rel="manifest" href="https://chroju.github.io/manifest.json">
    <link rel="mask-icon" href="https://chroju.github.io/safari-pinned-tab.svg" color="#FF3DB4">
    <meta name="theme-color" content="#ffffff">

    
    
    
    <link rel="stylesheet" href="https://chroju.github.io/css/main.min.2545a1910010e26a9905276045afab868f812580a1e7482423da6c0c8c214d18.css" />

    
    
    
    
    
    <link rel="stylesheet" href="https://chroju.github.io/css/override.css?t=2020-09-22%2000%3a47%3a44.003782313%20%2b0000%20UTC%20m%3d%2b0.371744525">
    

    
    

    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-6765151-2', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>

    <body>
        
<nav>
  <header>
    <div class="site-title">
        <a href="https://chroju.github.io/">the world as code</a>
    </div>  
</header>
  <div class="nav-menu">
  
    <a class="color-link nav-link" href="https://chroju.github.io/archives">Archive</a>
  
    <a class="color-link nav-link" href="https://chroju.github.io/about">About</a>
  
  <a class="color-link nav-link" href="https://chroju.github.io/atom.xml" target="_blank" rel="noopener" type="application/rss+xml">RSS</a>
</div>
<footer class="footer">
	<div class="social-icons">
        

    

    
    <a class="social-icon" href="chroju" target="_blank" rel="noopener" title="Twitter">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M8.991284,24.971612 C19.180436,24.971612 24.752372,16.530224 24.752372,9.210524 C24.752372,8.970656 24.747512,8.731868 24.736496,8.494376 C25.818008,7.712564 26.758256,6.737 27.5,5.62622 C26.507372,6.067076 25.439252,6.364292 24.318752,6.498212 C25.462472,5.812628 26.340512,4.727444 26.754584,3.434036 C25.684088,4.068536 24.499004,4.53002 23.23724,4.778528 C22.226468,3.701876 20.786828,3.028388 19.193828,3.028388 C16.134404,3.028388 13.653536,5.509256 13.653536,8.567492 C13.653536,9.0023 13.702244,9.424904 13.797176,9.830552 C9.19346,9.599108 5.11106,7.39472 2.3792,4.04294 C1.903028,4.861364 1.629032,5.812628 1.629032,6.827072 C1.629032,8.74904 2.606972,10.445612 4.094024,11.438132 C3.185528,11.41016 2.331788,11.160464 1.585184,10.745096 C1.583888,10.768208 1.583888,10.791428 1.583888,10.815728 C1.583888,13.49888 3.493652,15.738584 6.028088,16.246508 C5.562932,16.373084 5.07326,16.44134 4.56782,16.44134 C4.210988,16.44134 3.863876,16.406024 3.526484,16.34144 C4.231724,18.542264 6.276596,20.143796 8.701412,20.18894 C6.805148,21.674696 4.416836,22.56008 1.821488,22.56008 C1.374476,22.56008 0.93362,22.534592 0.5,22.4834 C2.951708,24.054476 5.862524,24.971612 8.991284,24.971612"></path>
        </svg>
    </a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="chroju" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    

    

    

    

</div>




	<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
	<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>

	<script src="https://chroju.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
</nav>
        <div id="content" class="content-container">
        
<h1 class="post-title">buildersconを契機にOSS活動始めてterraform-provider-awsにcontributeできた</h1>
    
    <time>July 10, 2018</time>
    
    <div>
        <p>
        <p>やったぜ。</p>
<p><a href="https://gyazo.com/e7f876b113acd42992052cc2c1fafa5f"><img src="https://i.gyazo.com/e7f876b113acd42992052cc2c1fafa5f.png" alt="Image from Gyazo" width="849"/></a></p>
<p><a href="https://github.com/terraform-providers/terraform-provider-aws/pull/5043">Fix the difference between aws_waf_byte_match_set and aws_wafregional_byte_match_set by chroju · Pull Request #5043 · terraform-providers/terraform-provider-aws</a></p>
<p>Terraform は最近、その本体と各APIを叩く Provider でレポジトリが分離されているんだけど、そのうちの AWS のやつに Contribute した。別にそこまで大した内容の commit でも無いんだけど、なんか嬉しいのでここに至るまでをエントリ起こしておく。</p>
<h2 id="builderscon-tokyo-2017-">builderscon tokyo 2017 が契機</h2>
<p>そもそも自分は専門領域インフラなので、プログラミングは本業というわけではなく、まぁそういう言い訳でガッツリプログラミングするような機会からは逃げてたと言えば逃げてきてたし、 OSS 活動はやってみたい思いはあったけどなんか無理だろうなって感じでやらずにいた。 GitHub はもっぱら自分のコードのバックアップ用途というか。</p>
<p>そんな意識を替えた、小さくてもいいからなんか Contribute できないか頑張ってみよっかと思ったのは昨年の <a href="https://builderscon.io/tokyo/2017">builderscon tokyo 2017</a> で聴いたこの発表だった。</p>
<iframe src="//www.slideshare.net/slideshow/embed_code/key/lQIyp731TQqOoF" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/shigemk2/oss-78585757" title="Oss貢献超入門" target="_blank">Oss貢献超入門</a> </strong> from <strong><a href="https://www.slideshare.net/shigemk2" target="_blank">Michihito Shigemura</a></strong> </div>
<p>コード読まずに GitHub に近づかずに OSS 貢献ができるかって言ったらできないわけで、わかんなくてもいいから取りあえず読むとか、ドキュメントの修正だって貢献は貢献だって話だとか、何かしらやれることからやれたらええやんけの始めの一歩をものすごい勢いで押してくれたスライド。わかんないからとか実力がないからという理由で遠ざけてたら一生かかってもできるわきゃないので、じゃあ取りあえず、もう少し GitHub と仲良くするか、とこの頃から思うようになった。昨今はインフラエンジニアだからコード書きませんってのも無いよねって流れだし、どうにかしたかった。</p>
<h2 id="github-">GitHub と仲良くする</h2>
<p>手始めに始めたのはこのあたりのこと。</p>
<ul>
<li>GitHub で気になったレポジトリにはスターをつけたり Watch したりして動向を追ってみる</li>
<li>GitHub で気になったエンジニアをフォローしてみる（いまだに誰をフォローしたらいいかよくわかってなくてあんまり出来てはない）</li>
<li>フォローと Watch による通知はひとり slack に流して継続的に追う</li>
<li>OSS を使ってて疑問に思う挙動があったら、ググるんじゃなくて docs とソースを読む</li>
<li>GitHub トレンドを見に行く、メールでのトレンド通知も有効化する</li>
</ul>
<p>GitHub に触る機会、レポジトリを見に行く機会をとにかく増やしたのと、気になる挙動を自分でソースを追いかけてみることを心がけた。前者については、世の中本当にいろんなもの公開している人がいるなと知るきっかけになって良かったし、知れると自分でも何か作れないかとか考えるようになった。 GitHub トレンドは案外なんと言うのか、 markdown で書かれたドキュメントだけのレポジトリとかが上位に入っていることも多くて、そんなに頻繁には見なくなってしまったけど。とはいえ自分が初めて Pull Request 出してマージしてもらったのも、ドキュメント系のレポジトリではあった。</p>
<p><a href="https://github.com/zeeshanu/learn-regex/pull/91">Update README-ja.md by chroju · Pull Request #91 · zeeshanu/learn-regex</a></p>
<p>正規表現について簡潔に学べるドキュメントで、日本語訳が一部こなれてなかったのと、英語原本の更新に追いついていなかったので更新した、というだけの PR 。コード書いてねーじゃんという感じだが、そういうのにこだわらず、取りあえずまずは GitHub と仲良くしたかったので、ハードルの低いことからやってみた。</p>
<p>コードを書いて Contribute したのは、 terraforming が初めてだと思う。</p>
<p><a href="https://github.com/dtan4/terraforming/pull/357">Add failover attributes to Route53 record. by chroju · Pull Request #357 · dtan4/terraforming</a></p>
<p>Terraform はよく使っているので、既存リソースの terraform 化ができる terraforming もよく使うのだが、このときは Terraform の方の更新に追いついてない部分に使っていて気付いたので PR した。以前なら誰かが更新してくれるのを待つか諦めるかしていたと思うが、 terraforming であれば数多の AWS リソースそれぞれに対して似たようなコードが存在しているようなツールなので、他のリソース向けに書かれたコードを参考にすれば書けそうだなと思い、手をつけた。コード書いてマージしてもらうのは初めてでめちゃくちゃビビってたのだが、あっさり &ldquo;LGTM&rdquo; もらえてびっくりした記憶がある。</p>
<h2 id="terraform-provider-aws--contribute">terraform-provider-aws への Contribute</h2>
<p>で、その後もいくつか PR 送ったり、それが難しくてもコードに原因がありそうだなという当たりがついたら issue を投げたりしてきた。 influxDB のバグを直してもらえたのが結構嬉しかった。</p>
<p>冒頭に挙げた今回のマージは Terraform の実質本体みたいなところへのマージで、これまでで一番「やったぜ」という感覚があった。 AWS WAF という文字通りマネージドな WAF サービスがあって、これはリージョンを意識しないグローバルな設定とリージョン別の設定に分かれているんだけど、 API もこれに合わせて AWS WAF, AWS WAFRegional の2種類がある。ただ双方で用意されているメソッドやパラメーターはほぼ同じになっているんだけど、 Terraform では一方のパラメーターは複数形の名前で、もう一方が単数形という微妙な差異が一部で見られる状態になっていた。元の API にはそういう差異はなく、混乱の元になりそうだったので PR した。</p>
<p>最初はパラメーターの名前替えるだけなのでそれほど難しくはなかろうと思い、単数形と複数形の差異全部直すで〜という雑な内容を取りあえず WIP の状態で PR を投げたのだが、すぐにレビューで「パラメーターの名前を替える場合は、古い方のパラメーターも Deprecated で残しておかなくてはならない」とか「君はこれ単数形に統一してくれたけど、複数形の方がよくない？」とか言われて、「うわ深く考えずに PR 投げてもーた……レビュー反映して差異全部直したらとんでもない修正量になるやんけ。。。やっぱまずは1箇所だけ直す形に改めるわ申し訳ねぇ🙏💦」という返信をめっちゃ冷や汗かきながら送ることになった。これを温かく受け止めてもらえたので、なんとかマージまで漕ぎつけられた。</p>
<p>そもそも Terraform が書かれている Go を学び始めたのも今年の春先ぐらいだったので、それがまぁパラメーター名の変更という内容ではあれ、この1,2年頻繁に使っていたツールに貢献する形まで辿り着いたのはガッツポーズものであった。</p>
<h2 id="heading">やってみるとなんとかなる</h2>
<p>去年の8月から、OSS活動と胸を張って言えるほどではないとはいえそこそこ続けてきて、思うのは案外なんとかなるなということであり、去年見たあのスライドの内容はマジで正しかったなということだ。</p>
<p>いまだに英語については自信がないけど、これまで「お前何言ってんだかわからんのだが？？」とは言われたことがないので、なんとか通じているっぽい。 Google 翻訳様様である。 Contribute するにあたり、膨大なソースコードを全行読む必要はなくて、「これを直したいな」というきっかけからまず当たりを付けてソースを読み、その周辺から徐々に全体へ読んでいくことで、動きは掴める。あと Terraform のような大規模な OSS だと Developer Guide が充実しているので、そちらも併せて読むことでだいぶ理解が捗るし、普段使っているツールがどう動いているのかを知る機会にもなるので一石三鳥ぐらいメリットがあった。あと他の PR とか読めば、どんな感じで書けばいいかとか、どんなコミットメッセージがいいかはわかる。</p>
<p>何かやってみたいけど何したらわかんないなというとき、まずは近付いてみるというのがいいんだと思う。近づき、情報を得て考えることを習慣にしていくうちに、だんだんとリズムが掴めてくる。あとは変に自分でハードル作らずに、小さくてもしょっぱくてもいいから PR 出してみれば、思ったよりもすんなりとマージしてもらえたりする。んで Contributor のマークが付くと、それが転職アッピルになりますぜとかそういうの抜きにして純粋に嬉しい。</p>
<p>builderscon は名前の通り「 builder 」のイベントなわけで、そこに行った甲斐あって builder っぽいことをほそぼそとではあるが始められた。<a href="https://builderscon.io/">今年</a>もめっちゃ楽しみにしてる。</p>

        </p>
    </div>
    

    <div class="page-footer">
        
    </div>


        
        </div>
        <footer class="footer-mobile">
	<div class="social-icons">
        

    

    
    <a class="social-icon" href="chroju" target="_blank" rel="noopener" title="Twitter">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M8.991284,24.971612 C19.180436,24.971612 24.752372,16.530224 24.752372,9.210524 C24.752372,8.970656 24.747512,8.731868 24.736496,8.494376 C25.818008,7.712564 26.758256,6.737 27.5,5.62622 C26.507372,6.067076 25.439252,6.364292 24.318752,6.498212 C25.462472,5.812628 26.340512,4.727444 26.754584,3.434036 C25.684088,4.068536 24.499004,4.53002 23.23724,4.778528 C22.226468,3.701876 20.786828,3.028388 19.193828,3.028388 C16.134404,3.028388 13.653536,5.509256 13.653536,8.567492 C13.653536,9.0023 13.702244,9.424904 13.797176,9.830552 C9.19346,9.599108 5.11106,7.39472 2.3792,4.04294 C1.903028,4.861364 1.629032,5.812628 1.629032,6.827072 C1.629032,8.74904 2.606972,10.445612 4.094024,11.438132 C3.185528,11.41016 2.331788,11.160464 1.585184,10.745096 C1.583888,10.768208 1.583888,10.791428 1.583888,10.815728 C1.583888,13.49888 3.493652,15.738584 6.028088,16.246508 C5.562932,16.373084 5.07326,16.44134 4.56782,16.44134 C4.210988,16.44134 3.863876,16.406024 3.526484,16.34144 C4.231724,18.542264 6.276596,20.143796 8.701412,20.18894 C6.805148,21.674696 4.416836,22.56008 1.821488,22.56008 C1.374476,22.56008 0.93362,22.534592 0.5,22.4834 C2.951708,24.054476 5.862524,24.971612 8.991284,24.971612"></path>
        </svg>
    </a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="chroju" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    

    

    

    

</div>




	<div class="footer-mobile-links">
		<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
		<span class="divider-bar">|</span>
		<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>
	</div>

	<script src="https://chroju.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
    </body>
</html>